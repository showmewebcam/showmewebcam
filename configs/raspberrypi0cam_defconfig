### Custom settings
BR2_TARGET_GENERIC_HOSTNAME="piwebcam"
BR2_TARGET_GENERIC_ISSUE="Your webcam at your service!"
BR2_TARGET_GENERIC_ROOT_PASSWD="root"

# Custom packages
BR2_PACKAGE_LIBV4L=y
BR2_PACKAGE_LIBNL=y
BR2_PACKAGE_PIWEBCAM=y
BR2_PACKAGE_SYSTEMD_ANALYZE=y

# Enable camera module
BR2_PACKAGE_RPI_FIRMWARE_X=y

# Enable LZ4 compressing in Squash filesystem
BR2_LINUX_KERNEL_LZ4=y
BR2_TARGET_ROOTFS_SQUASHFS=y
BR2_TARGET_ROOTFS_SQUASHFS4_LZ4=y

# Build rootfs overlay and post scripts
BR2_ROOTFS_OVERLAY="$(BR2_EXTERNAL_PICAM_PATH)/board/raspberrypicam/rootfs"
BR2_ROOTFS_POST_BUILD_SCRIPT="$(BR2_EXTERNAL_PICAM_PATH)/board/raspberrypicam/post-build.sh"
BR2_ROOTFS_POST_IMAGE_SCRIPT="$(BR2_EXTERNAL_PICAM_PATH)/board/raspberrypicam/post-image.sh"
BR2_ROOTFS_POST_SCRIPT_ARGS="--configure-picam"

# Enable compiler cache
BR2_CCACHE=y
BR2_CCACHE_DIR="$(BASE_DIR)/.ccache"

# Init systemd
BR2_TOOLCHAIN_BUILDROOT_GLIBC=y
BR2_INIT_SYSTEMD=y

# Setup serial port for usb debugging
BR2_TARGET_GENERIC_GETTY_PORT="ttyAMA0"

# Packages removed to optimize boot time
# BR2_PACKAGE_SYSTEMD_PSTORE is not set
# BR2_PACKAGE_SYSTEMD_HOSTNAMED is not set
# BR2_PACKAGE_SYSTEMD_HWDB is not set
# BR2_PACKAGE_SYSTEMD_MYHOSTNAME is not set
# BR2_PACKAGE_SYSTEMD_NETWORKD is not set
# BR2_PACKAGE_SYSTEMD_RESOLVED is not set
# BR2_PACKAGE_SYSTEMD_TIMEDATED is not set
# BR2_PACKAGE_SYSTEMD_TIMESYNCD is not set
# BR2_PACKAGE_SYSTEMD_TMPFILES is not set
# BR2_PACKAGE_SYSTEMD_VCONSOLE is not set
